<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Instagram</title>
    <style>
        :root {
            --primary-bg: #ffffff;
            --secondary-bg: #fafafa;
            --primary-text: #262626;
            --secondary-text: #8e8e8e;
            --border-color: #dbdbdb;
            --highlight-color: #3897f0;
            --error-color: #ed4956;
            --story-border: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
            --story-border-seen: #dbdbdb;
            --story-border-close-friends: #2e8b57;
            --dm-sent-bg: #efefef;
            --dm-received-bg: #3797f0;
            --dm-received-text: #ffffff;
            --button-bg: #0095f6;
            --button-text: #ffffff;
            --icon-fill: #262626;
            --liked-color: #ed4956;
        }

        body.dark-mode {
            --primary-bg: #000000;
            --secondary-bg: #121212;
            --primary-text: #f5f5f5;
            --secondary-text: #a8a8a8;
            --border-color: #363636;
            --highlight-color: #3897f0;
            --dm-sent-bg: #262626;
            --dm-received-bg: #3797f0;
            --dm-received-text: #ffffff;
            --button-bg: #0095f6;
            --button-text: #ffffff;
            --icon-fill: #f5f5f5;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--secondary-bg);
            color: var(--primary-text);
            overscroll-behavior: none;
        }

        .instagram-container {
            max-width: 480px;
            margin: 0 auto;
            background-color: var(--primary-bg);
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        /* --- Screens --- */
        .screen {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
        }
        #main-screen { display: flex; }

        /* --- Main Screen Header --- */
        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            flex-shrink: 0;
        }
        .main-header .logo {
            font-family: 'Lobster', cursive; /* A font similar to Instagram's */
            font-size: 28px;
        }
        @font-face {
            font-family: 'Lobster';
            src: url('https://fonts.gstatic.com/s/lobster/v30/neILzCirqoswsqX9zo-mM5Ez.woff2') format('woff2');
        }
        .main-header .actions .icon {
            width: 24px;
            height: 24px;
            margin-left: 20px;
            cursor: pointer;
            fill: var(--icon-fill);
        }

        /* --- Stories --- */
        .stories-container {
            display: flex;
            padding: 10px 0 10px 10px;
            border-bottom: 1px solid var(--border-color);
            overflow-x: auto;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
            flex-shrink: 0;
        }
        .stories-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, and Opera */
        }
        .story {
            text-align: center;
            margin-right: 15px;
            cursor: pointer;
        }
        .story .profile-pic-container {
            width: 66px;
            height: 66px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3px;
            background: var(--story-border);
        }
        .story.close-friends .profile-pic-container {
            background: var(--story-border-close-friends);
        }
        .story.seen .profile-pic-container {
            background: var(--story-border-seen);
        }
        .story .profile-pic {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--primary-bg);
        }
        .story .username {
            font-size: 12px;
            margin-top: 5px;
            max-width: 70px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .story.my-story .profile-pic-container {
            background: none;
        }

        /* --- Feed --- */
        .feed-container {
            flex-grow: 1;
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .feed-container::-webkit-scrollbar {
            display: none;
        }

        .feed-post {
            border-bottom: 1px solid var(--border-color);
        }
        .post-header {
            display: flex;
            align-items: center;
            padding: 12px;
        }
        .post-header .profile-pic {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 12px;
        }
        .post-header .username {
            font-weight: 600;
            font-size: 14px;
        }
        .post-content {
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        .carousel-container {
            display: flex;
            transition: transform 0.3s ease-in-out;
        }
        .carousel-item {
            min-width: 100%;
            aspect-ratio: 1 / 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .carousel-item .image-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            color: var(--primary-bg);
            font-size: 14px;
        }
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 30px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .post-content:hover .carousel-nav {
            opacity: 1;
        }
        .prev-btn { left: 10px; }
        .next-btn { right: 10px; }
        .carousel-indicators {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
        }
        .indicator-dot {
            width: 6px;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            margin: 0 3px;
        }
        .indicator-dot.active {
            background-color: white;
        }
        .post-actions {
            display: flex;
            padding: 8px 12px;
        }
        .post-actions .icon {
            width: 24px;
            height: 24px;
            margin-right: 16px;
            cursor: pointer;
            fill: var(--icon-fill);
        }
        .post-actions .icon.liked {
            fill: var(--liked-color);
        }
        .post-likes {
            font-size: 14px;
            font-weight: 600;
            padding: 0 12px;
        }
        .post-caption {
            padding: 8px 12px;
            font-size: 14px;
        }
        .post-caption .username {
            font-weight: 600;
            margin-right: 4px;
        }
        .post-caption a {
            color: var(--highlight-color);
            text-decoration: none;
        }
        .post-date {
            font-size: 10px;
            color: var(--secondary-text);
            padding: 0 12px 8px;
        }
        .comments-section {
            padding: 0 12px 12px;
        }
        .view-comments {
            font-size: 14px;
            color: var(--secondary-text);
            cursor: pointer;
            margin-bottom: 5px;
        }
        .comment {
            font-size: 14px;
            margin-bottom: 4px;
        }
        .comment .username {
            font-weight: 600;
            margin-right: 4px;
        }

        /* --- Navigation Bar --- */
        .nav-bar {
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid var(--border-color);
            padding: 10px 0;
            background-color: var(--primary-bg);
            flex-shrink: 0;
            height: 64px;
        }
        .nav-bar .nav-icon {
            width: 24px;
            height: 24px;
            cursor: pointer;
            fill: var(--icon-fill);
        }
        .nav-bar .profile-pic {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
        }

        /* --- Story Viewer --- */
        #story-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1a1a1a;
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
        }
        .story-content {
            position: relative;
            width: 100%;
            max-width: 480px;
            height: 100%;
            background-color: #333;
            color: white;
            display: flex;
            flex-direction: column;
            border-radius: 8px;
            overflow: hidden;
        }
        .story-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 12px;
            display: flex;
            align-items: center;
            z-index: 102;
            background: linear-gradient(to bottom, rgba(0,0,0,0.4), rgba(0,0,0,0));
        }
        .story-progress-bars {
            display: flex;
            width: 100%;
            position: absolute;
            top: 4px;
            padding: 0 4px;
            gap: 2px;
        }
        .progress-bar-container {
            flex: 1;
            height: 2px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 1px;
            overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%;
            background-color: #fff;
            width: 0;
            transition: width 0.1s linear;
        }
        .story-header .profile-pic {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .story-header .username {
            font-weight: 600;
            font-size: 14px;
        }
        .story-header .timestamp {
            font-size: 12px;
            color: #ccc;
            margin-left: 8px;
        }
        .story-header .close-story {
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 24px;
            color: #fff;
            cursor: pointer;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .story-image-placeholder {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            text-align: center;
            padding: 20px;
            position: relative;
        }
        .story-nav {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            z-index: 101;
            cursor: pointer;
        }
        .story-nav.prev { left: 0; }
        .story-nav.next { right: 0; }
        .story-sticker {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.9);
            color: #000;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
        }
        .story-sticker.poll {
            width: 250px;
        }
        .story-sticker.qa {
            width: 250px;
            background-color: #1a1a1a;
            color: #fff;
        }
        .sticker-title {
            text-align: center;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .poll-option {
            background-color: rgba(0,0,0,0.1);
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 5px;
            text-align: center;
        }
        .qa-question {
            text-align: center;
            font-size: 14px;
            color: #a8a8a8;
        }
        .qa-input {
            width: 100%;
            background-color: transparent;
            border: none;
            border-bottom: 1px solid #fff;
            color: #fff;
            text-align: center;
            margin-top: 10px;
            padding: 5px;
        }


        /* --- General Screen Styles (Header, etc.) --- */
        .screen-header {
            display: flex;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--primary-bg);
            flex-shrink: 0;
            height: 48px;
        }
        .screen-header .back-btn {
            font-size: 24px;
            font-weight: bold;
            transform: rotate(180deg);
            cursor: pointer;
            margin-right: 16px;
        }
        .screen-header .title {
            font-weight: 600;
            font-size: 16px;
            flex-grow: 1;
            text-align: center;
        }
        .screen-header .action-icon {
            font-size: 24px;
            cursor: pointer;
        }
        .screen-header .profile-pic {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .screen-header .username {
            font-weight: 600;
            font-size: 16px;
            flex-grow: 1;
        }

        /* --- DM Screen --- */
        #dm-screen .screen-content, #notification-screen .screen-content {
            flex-grow: 1;
            overflow-y: auto;
        }
        .dm-list-item {
            display: flex;
            align-items: center;
            padding: 12px;
            cursor: pointer;
        }
        .dm-list-item:hover {
            background-color: var(--secondary-bg);
        }
        .dm-list-item .profile-pic {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            margin-right: 12px;
        }
        .dm-info {
            flex-grow: 1;
        }
        .dm-info .username {
            font-weight: 600;
            font-size: 14px;
        }
        .dm-info .last-message {
            font-size: 14px;
            color: var(--secondary-text);
        }

        /* --- DM Chat Screen --- */
        #dm-chat-screen {
            display: none;
        }
        .chat-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 12px;
            display: flex;
            flex-direction: column;
        }
        .chat-date {
            text-align: center;
            color: var(--secondary-text);
            font-size: 12px;
            margin: 10px 0;
        }
        .chat-bubble {
            max-width: 70%;
            padding: 10px;
            border-radius: 18px;
            font-size: 14px;
            margin-bottom: 8px;
        }
        .chat-bubble.sent {
            background-color: var(--dm-sent-bg);
            color: var(--primary-text);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        .chat-bubble.received {
            background-color: var(--dm-received-bg);
            color: var(--dm-received-text);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        .chat-input-area {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-top: 1px solid var(--border-color);
            background-color: var(--primary-bg);
        }
        .chat-input {
            flex-grow: 1;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            background-color: var(--primary-bg);
            color: var(--primary-text);
        }
        .chat-input::placeholder {
            color: var(--secondary-text);
        }
        
        /* --- Search & Profile Screen --- */
        #search-screen, #profile-screen {
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        #search-screen::-webkit-scrollbar, #profile-screen::-webkit-scrollbar {
            display: none;
        }
        .search-bar {
            padding: 8px 12px;
        }
        .search-input {
            width: 100%;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            background-color: var(--secondary-bg);
            font-size: 16px;
        }
        .content-grid {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 2px;
            padding-bottom: 72px; /* For nav bar */
        }
        .grid-item {
            aspect-ratio: 1 / 1;
            width: 100%;
            overflow: hidden;
            position: relative;
        }
        .grid-item .image-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 12px;
            padding: 5px;
            color: #fff;
        }
        @media (max-width: 360px) {
            .content-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }
        
        /* Profile Screen Specifics */
        .profile-header {
            display: flex;
            flex-direction: column;
            padding: 16px;
        }
        .profile-top {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        .profile-pic-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-right: 28px;
        }
        .profile-stats {
            display: flex;
            justify-content: space-around;
            flex-grow: 1;
        }
        .stat {
            text-align: center;
        }
        .stat .number {
            font-size: 16px;
            font-weight: 600;
        }
        .stat .label {
            font-size: 14px;
            color: var(--secondary-text);
        }
        .profile-info {
            font-size: 14px;
        }
        .profile-info .name {
            font-weight: 600;
        }
        .profile-info .bio {
            white-space: pre-wrap;
            margin: 4px 0;
        }
        .profile-actions {
            display: flex;
            margin-top: 16px;
        }
        .profile-btn {
            flex-grow: 1;
            padding: 8px;
            text-align: center;
            border-radius: 6px;
            background-color: var(--secondary-bg);
            border: 1px solid var(--border-color);
            font-weight: 600;
            cursor: pointer;
            margin: 0 4px;
        }
        .theme-toggle-btn {
            font-size: 20px;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--primary-text);
            position: absolute;
            top: 12px;
            right: 12px;
        }

    </style>
</head>
<body class="light-mode">
    <div class="instagram-container">
        <!-- Main Screen -->
        <div id="main-screen" class="screen">
            <header class="main-header">
                <div class="logo">Instagram</div>
                <div class="actions">
                    <svg class="icon" id="notification-btn" aria-label="ì•Œë¦¼" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477.309-1.14.309-1.617 0-.438-.283-1.79-1.51-4.303-3.752C3.152 14.08 1.5 12.194 1.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.118-1.763a4.21 4.21 0 0 1 3.675-1.941z"></path></svg>
                    <svg class="icon" id="dm-btn" aria-label="ë‹¤ì´ë ‰íŠ¸ ë©”ì‹œì§€" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M21.435 2.582a1.594 1.594 0 0 0-1.895-.503L3.435 8.42a1.594 1.594 0 0 0 .028 3.05l5.46 1.82a1.594 1.594 0 0 0 1.896-.504l4.47-5.96a.53.53 0 0 1 .84.63l-4.47 5.96a1.594 1.594 0 0 0 .503 1.895l1.82 5.46a1.594 1.594 0 0 0 3.05.028l6.34-16.105a1.594 1.594 0 0 0-.503-1.895Z"></path></svg>
                </div>
            </header>
            <section class="stories-container">
                <div class="story my-story" data-user="nicole.h__">
                    <div class="profile-pic-container">
                        <div class="profile-pic" style="background-color: darkblue;"></div>
                    </div>
                    <div class="username">ë‚´ ìŠ¤í† ë¦¬</div>
                </div>
                <div class="story" data-user="andy.black">
                    <div class="profile-pic-container">
                        <div class="profile-pic" style="background-color: #333;"></div>
                    </div>
                    <div class="username">andy.black</div>
                </div>
                <div class="story close-friends" data-user="andy.black_close">
                    <div class="profile-pic-container">
                        <div class="profile-pic" style="background-color: #333;"></div>
                    </div>
                    <div class="username">andy.black</div>
                </div>
                <div class="story" data-user="raymond.mccarter_qb">
                    <div class="profile-pic-container">
                        <div class="profile-pic" style="background-color: gold;"></div>
                    </div>
                    <div class="username">raymond.m...</div>
                </div>
                <div class="story" data-user="justin.m_math">
                    <div class="profile-pic-container">
                        <div class="profile-pic" style="background-color: green;"></div>
                    </div>
                    <div class="username">justin.m_math</div>
                </div>
            </section>
            <main class="feed-container">
                <!-- Post 1: Nicole's Egg Tart Post -->
                <article class="feed-post" data-post-id="1">
                    <div class="post-header">
                        <div class="profile-pic" style="background-color: darkblue;"></div>
                        <div class="username">nicole.h__</div>
                    </div>
                    <div class="post-content">
                        <div class="carousel-container">
                            <div class="carousel-item">
                                <div class="image-placeholder" style="background-color: #FFD700;">
                                    <p>[í–‡ì‚´ ì¢‹ì€ ì°½ê°€ì— ë†“ì¸ ì˜ˆìœ ìƒì, ê·¸ ì•ˆì— ë¨¹ìŒì§ìŠ¤ëŸ¬ìš´ ì—ê·¸íƒ€ë¥´íŠ¸ê°€ 10ê°œ ê½‰ ì°¨ìˆë‹¤. ë°”ì‚­í•œ íŒŒì´ì™€ ë…¸ë€ ì»¤ìŠ¤í„°ë“œ í•„ë§ì´ ì„ ëª…í•˜ë‹¤.]</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="post-actions">
                        <svg class="icon like-button" aria-label="ì¢‹ì•„ìš”" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477.309-1.14.309-1.617 0-.438-.283-1.79-1.51-4.303-3.752C3.152 14.08 1.5 12.194 1.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.118-1.763a4.21 4.21 0 0 1 3.675-1.941z"></path></svg>
                        <svg class="icon" aria-label="ëŒ“ê¸€ ë‹¬ê¸°" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                    </div>
                    <div class="post-likes"><span class="like-count">115</span>ëª…ì´ ì¢‹ì•„í•©ë‹ˆë‹¤</div>
                    <div class="post-caption">
                        <span class="username">nicole.h__</span>
                        ì—­ì‹œ ë‹¹ ì¶©ì „ì—” ì´ê²Œ ìµœê³ . ë¬¸ì œ í’€ë‹¤ ë¨¸ë¦¬ í„°ì§ˆ ë»”í–ˆëŠ”ë° ì‚´ì•˜ë‹¤.
                        <a href="#">#ì—ê·¸íƒ€ë¥´íŠ¸</a> <a href="#">#ìˆ˜í•™í´ëŸ½</a> <a href="#">#ë‹¹ì¶©ì „</a>
                    </div>
                    <div class="post-date">2024ë…„ 4ì›” 17ì¼</div>
                    <div class="comments-section">
                        <div class="comment">
                            <span class="username">andy.black</span>ë§›ìˆê²Œ ë¨¹ì—ˆë‹¤ë‹ˆ ë‹¤í–‰ì´ë„¤.
                        </div>
                        <div class="comment">
                            <span class="username">raymond.mccarter_qb</span>ë‹ˆí‚¤, ë­ì•¼! ë‚˜ ë¹¼ê³  ë§›ìˆëŠ” ê±° ë¨¹ì—ˆì–´? ì˜¤ëŠ˜ ìš°ë¦¬ ì§‘ íŒŒí‹° ì˜¤ë©´ ì´ê±°ë³´ë‹¤ ë§›ìˆëŠ” ê±° 100ê°œ í•´ì¤„ê²Œ! ğŸ˜‰
                        </div>
                        <div class="comment">
                            <span class="username">nicole.h__</span><a href="#">@andy.black</a> ì‘. ê³ ë§ˆì›Œ. <a href="#">@raymond.mccarter_qb</a> 100ê°œëŠ” ë¬´ìŠ¨.. ë°° í„°ì§€ê² ë‹¤.
                        </div>
                    </div>
                </article>

                <!-- Post 2: Andy's Tuxedo Post -->
                <article class="feed-post" data-post-id="2">
                    <div class="post-header">
                        <div class="profile-pic" style="background-color: #333;"></div>
                        <div class="username">andy.black</div>
                    </div>
                    <div class="post-content">
                        <div class="carousel-container">
                            <div class="carousel-item">
                                <div class="image-placeholder" style="background-color: #000080;">
                                    <p>[ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ì˜·ê±¸ì´ì— ê±¸ë¦° ë„¤ì´ë¹„ ìƒ‰ìƒì˜ í„±ì‹œë„. ì‹¤í¬ ë¼í ì´ ì€ì€í•˜ê²Œ ë¹›ë‚˜ê³ , ì˜·ê°ì˜ ì§ˆê°ì´ ëŠê»´ì§€ëŠ” ê°ì„±ì ì¸ ì‚¬ì§„.]</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="post-actions">
                        <svg class="icon like-button" aria-label="ì¢‹ì•„ìš”" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477.309-1.14.309-1.617 0-.438-.283-1.79-1.51-4.303-3.752C3.152 14.08 1.5 12.194 1.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.118-1.763a4.21 4.21 0 0 1 3.675-1.941z"></path></svg>
                        <svg class="icon" aria-label="ëŒ“ê¸€ ë‹¬ê¸°" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                    </div>
                    <div class="post-likes"><span class="like-count">134,832</span>ëª…ì´ ì¢‹ì•„í•©ë‹ˆë‹¤</div>
                    <div class="post-caption">
                        <span class="username">andy.black</span>
                        ì£¼ì¸ê³µ.
                        <a href="#">#prom</a> <a href="#">#tuxedo</a>
                    </div>
                    <div class="post-date">2024ë…„ 4ì›” 17ì¼</div>
                    <div class="comments-section">
                        <div class="comment">
                            <span class="username">nicole.h__</span>ì˜ ì–´ìš¸ë¦¬ë„¤.
                        </div>
                        <div class="comment">
                            <span class="username">raymond.mccarter_qb</span>ì˜¤~ ì£¼ì¸ê³µ ë‚©ì…¨ë„¤. ê·¼ë° í”„ë¡¬í‚¹ì€ ë‚˜ì¼ê±¸? ğŸ‘‘
                        </div>
                    </div>
                </article>

                <!-- Post 3: Raymond's Party Prep Post -->
                <article class="feed-post" data-post-id="3">
                    <div class="post-header">
                        <div class="profile-pic" style="background-color: gold;"></div>
                        <div class="username">raymond.mccarter_qb</div>
                    </div>
                    <div class="post-content">
                        <div class="carousel-container">
                            <div class="carousel-item">
                                <div class="image-placeholder" style="background-color: #87CEEB;">
                                    <p>[í•´ì§ˆë…˜, ë ˆì´ë¨¼ì˜ ë„“ì€ ì§‘ ë’·ë§ˆë‹¹. ìˆ˜ì˜ì¥ ì£¼ë³€ìœ¼ë¡œ íŒŒí‹°ìš© ì¡°ëª…ì´ ì„¤ì¹˜ë˜ê³  ìˆê³ , í…Œì´ë¸”ê³¼ ì˜ìë“¤ì´ ë†“ì—¬ìˆë‹¤. í™œê¸°ì°¬ ë¶„ìœ„ê¸°.]</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="post-actions">
                        <svg class="icon like-button" aria-label="ì¢‹ì•„ìš”" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477.309-1.14.309-1.617 0-.438-.283-1.79-1.51-4.303-3.752C3.152 14.08 1.5 12.194 1.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.118-1.763a4.21 4.21 0 0 1 3.675-1.941z"></path></svg>
                        <svg class="icon" aria-label="ëŒ“ê¸€ ë‹¬ê¸°" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                    </div>
                    <div class="post-likes"><span class="like-count">1,240</span>ëª…ì´ ì¢‹ì•„í•©ë‹ˆë‹¤</div>
                    <div class="post-caption">
                        <span class="username">raymond.mccarter_qb</span>
                        Tonight's the night. âœ¨ ì¤‘ìš”í•œ ì–˜ê¸°ê°€ ìˆìœ¼ë‹ˆ ë‹¤ë“¤ ê¸°ëŒ€í•˜ë¼ê³ . íŠ¹íˆ <a href="#">@nicole.h__</a> ë„ˆ.
                        <br>
                        <a href="#">#party</a> <a href="#">#fridaynight</a> <a href="#">#bigannouncement</a>
                    </div>
                    <div class="post-date">2024ë…„ 4ì›” 17ì¼</div>
                    <div class="comments-section">
                        <div class="comment">
                            <span class="username">jessicacheer_</span>OMG ê¸°ëŒ€ë¼!! ğŸ˜
                        </div>
                        <div class="comment">
                            <span class="username">andy.black</span>ì‹œë„ëŸ½ê² ë„¤.
                        </div>
                         <div class="comment">
                            <span class="username">nicole.h__</span>ëŒ€ì²´ ë¬´ìŠ¨ ì–˜ê¸´ë° ê·¸ë˜.
                        </div>
                    </div>
                </article>

                <!-- Post 4: Nicole's Study Post -->
                <article class="feed-post" data-post-id="4">
                    <div class="post-header">
                        <div class="profile-pic" style="background-color: darkblue;"></div>
                        <div class="username">nicole.h__</div>
                    </div>
                    <div class="post-content">
                        <div class="carousel-container">
                             <div class="carousel-item">
                                <div class="image-placeholder" style="background-color: #4a4a4a;">
                                    <p>[ìŠ¤íƒ ë“œ ë¶ˆë¹› ì•„ë˜, ë³µì¡í•œ ë¯¸ì ë¶„ ê³µì‹ì´ ê°€ë“ ì íŒ ë…¸íŠ¸ì™€ ë¬¸ì œì§‘, ê·¸ë¦¬ê³  ìƒ¤í”„ê°€ ë†“ì—¬ìˆëŠ” ì±…ìƒ ì‚¬ì§„. ê°€ì§€ëŸ°íˆ ì •ë¦¬ë˜ì–´ ìˆë‹¤.]</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="post-actions">
                        <svg class="icon like-button" aria-label="ì¢‹ì•„ìš”" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477.309-1.14.309-1.617 0-.438-.283-1.79-1.51-4.303-3.752C3.152 14.08 1.5 12.194 1.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.118-1.763a4.21 4.21 0 0 1 3.675-1.941z"></path></svg>
                        <svg class="icon" aria-label="ëŒ“ê¸€ ë‹¬ê¸°" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                    </div>
                    <div class="post-likes"><span class="like-count">98</span>ëª…ì´ ì¢‹ì•„í•©ë‹ˆë‹¤</div>
                    <div class="post-caption">
                        <span class="username">nicole.h__</span>
                        ê°€ë”ì€ ì´ê²Œ ì œì¼ ë§ˆìŒ í¸í•˜ë‹¤.
                        <a href="#">#ê³µìŠ¤íƒ€ê·¸ë¨</a> <a href="#">#ë¯¸ì ë¶„</a> <a href="#">#í•˜ë²„ë“œ</a>
                    </div>
                    <div class="post-date">2024ë…„ 4ì›” 18ì¼</div>
                    <div class="comments-section">
                        <div class="comment">
                            <span class="username">justin.m_math</span>ë‹ˆì½œ, ì´ ë¬¸ì œ í˜¹ì‹œ 3ë²ˆ ê³µì‹ ë³€í˜•í•´ì„œ í‘¼ ê±°ì•¼? ëŒ€ë‹¨í•˜ë‹¤. ë‚œ í•œì°¸ í—¤ë§¸ëŠ”ë°.
                        </div>
                        <div class="comment">
                            <span class="username">raymond.mccarter_qb</span>ë‹ˆí‚¤~ íŒŒí‹° ë‹¤ìŒë‚ ì¸ë° ë˜ ê³µë¶€ì•¼? ì¢€ ì‰¬ì—„ì‰¬ì—„í•´!
                        </div>
                    </div>
                </article>

                <!-- Post 5: Post-party post -->
                <article class="feed-post" data-post-id="5">
                    <div class="post-header">
                        <div class="profile-pic" style="background-color: darkblue;"></div>
                        <div class="username">nicole.h__</div>
                    </div>
                    <div class="post-content">
                        <div class="carousel-container">
                            <div class="carousel-item">
                                <div class="image-placeholder" style="background-color: #2c3e50;">
                                    <p>[ì–´ë‘ìš´ ë°¤, íŒŒí‹°ê°€ ëë‚œ í›„ ì¡°ìš©í•œ ìˆ˜ì˜ì¥ì— ë¹„ì¹œ ë‹¬ë¹›ê³¼ í¬ë¯¸í•œ ì¡°ëª…ì„ ì°ì€ ì‚¬ì§„. ë¬¼ê²°ì´ ì”ì”í•˜ê²Œ ì¼ë ì¸ë‹¤. ì•½ê°„ì˜ ìƒê°ì— ì ê¸´ ë“¯í•œ ë¶„ìœ„ê¸°.]</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="post-actions">
                        <svg class="icon like-button" aria-label="ì¢‹ì•„ìš”" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477.309-1.14.309-1.617 0-.438-.283-1.79-1.51-4.303-3.752C3.152 14.08 1.5 12.194 1.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.118-1.763a4.21 4.21 0 0 1 3.675-1.941z"></path></svg>
                        <svg class="icon" aria-label="ëŒ“ê¸€ ë‹¬ê¸°" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                    </div>
                    <div class="post-likes"><span class="like-count">152</span>ëª…ì´ ì¢‹ì•„í•©ë‹ˆë‹¤</div>
                    <div class="post-caption">
                        <span class="username">nicole.h__</span>
                        ìƒê°ì´ ë§ì•„ì§€ëŠ” ë°¤.
                    </div>
                    <div class="post-date">2024ë…„ 4ì›” 18ì¼</div>
                    <div class="comments-section">
                        <div class="comment">
                            <span class="username">raymond.mccarter_qb</span>ì–´ì œ ë‚´ê°€ í•œ ë§ ë•Œë¬¸ì— ê·¸ë˜? ë„ˆë¬´ ë¶€ë‹´ ê°–ì§€ ë§ˆ, ë‹ˆí‚¤.
                        </div>
                        <div class="comment">
                            <span class="username">andy.black</span>...
                        </div>
                    </div>
                </article>
            </main>
            <nav class="nav-bar">
                <svg class="nav-icon active" id="home-btn" aria-label="í™ˆ" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h5V11.543l-8-6.923L2 11.543V22h5z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                <svg class="nav-icon" id="search-btn" aria-label="ê²€ìƒ‰" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x1="16.511" x2="22" y1="16.511" y2="22"></line></svg>
                <div class="profile-pic nav-icon" id="profile-btn" style="background-color: darkblue;"></div>
            </nav>
        </div>

        <!-- DM Screen -->
        <div id="dm-screen" class="screen">
            <header class="screen-header">
                <div class="back-btn" data-target="main-screen">â¤</div>
                <div class="title">nicole.h__</div>
                <div class="action-icon">â•</div>
            </header>
            <main class="screen-content">
                <div class="dm-list-item" data-chat-id="andy.black">
                    <div class="profile-pic" style="background-color: #333;"></div>
                    <div class="dm-info">
                        <div class="username">andy.black</div>
                        <div class="last-message">ê·¸ë˜. ì´ë”° íŒŒí‹°ì—ì„œ ë´.</div>
                    </div>
                </div>
                <div class="dm-list-item" data-chat-id="raymond.mccarter_qb">
                    <div class="profile-pic" style="background-color: gold;"></div>
                    <div class="dm-info">
                        <div class="username">raymond.mccarter_qb</div>
                        <div class="last-message">ì‘! 7ì‹œ! ëŠ¦ì§€ ë§ˆ!</div>
                    </div>
                </div>
                <div class="dm-list-item" data-chat-id="jessicacheer_">
                    <div class="profile-pic" style="background-color: hotpink;"></div>
                    <div class="dm-info">
                        <div class="username">jessicacheer_</div>
                        <div class="last-message">ì•Œì•˜ì–´...</div>
                    </div>
                </div>
            </main>
        </div>
        
        <!-- DM Chat Screen -->
        <div id="dm-chat-screen" class="screen">
             <!-- Header and content will be populated by JS -->
        </div>

        <!-- Notification Screen -->
        <div id="notification-screen" class="screen">
            <header class="screen-header">
                <div class="back-btn" data-target="main-screen">â¤</div>
                <div class="title">ì•Œë¦¼</div>
            </header>
            <main class="screen-content">
                <!-- Notifications would be listed here -->
            </main>
        </div>

        <!-- Search Screen -->
        <div id="search-screen" class="screen">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="ê²€ìƒ‰">
            </div>
            <div class="content-grid">
                <div class="grid-item"><div class="image-placeholder" style="background-color: #ff6347;">[í•˜ë²„ë“œ ëŒ€í•™êµ ìº í¼ìŠ¤ ì „ê²½ ì‚¬ì§„]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #4682b4;">[ìœ ëª… ë°°ìš°ì˜ ì˜í™” ì‹œì‚¬íšŒ í˜„ì¥]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #32cd32;">[ë¯¸ì‹ì¶•êµ¬ ê²½ê¸° í•˜ì´ë¼ì´íŠ¸ ì˜ìƒ ì¸ë„¤ì¼]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #8a2be2;">[ë³µì¡í•œ ìˆ˜í•™ ê³µì‹ì´ ì íŒ ì¹ íŒ]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #ffdead;">[ë³´ìŠ¤í„´ì˜ ìœ ëª…í•œ ë””ì €íŠ¸ ê°€ê²Œ]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #dc143c;">[í”„ë¡¬ íŒŒí‹° ë“œë ˆìŠ¤ì™€ í„±ì‹œë„]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #00ced1;">[ë°¤í•˜ëŠ˜ì˜ ë³„ìë¦¬ ì‚¬ì§„]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #ffd700;">[ì¡¸ì—… ì‹œì¦Œì„ ë§ì€ í•™ìƒë“¤]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #6a5acd;">[ì±…ì´ ê°€ë“ ê½‚íŒ ë„ì„œê´€ ë‚´ë¶€]</div></div>
            </div>
             <nav class="nav-bar">
                <svg class="nav-icon" id="home-btn-search" aria-label="í™ˆ" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h5V11.543l-8-6.923L2 11.543V22h5z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                <svg class="nav-icon active" id="search-btn-search" aria-label="ê²€ìƒ‰" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x1="16.511" x2="22" y1="16.511" y2="22"></line></svg>
                <div class="profile-pic nav-icon" id="profile-btn-search" style="background-color: darkblue;"></div>
            </nav>
        </div>

        <!-- Profile Screen -->
        <div id="profile-screen" class="screen">
            <button class="theme-toggle-btn">ğŸŒ•</button>
            <div class="profile-header">
                <div class="profile-top">
                    <div class="profile-pic-large" style="background-color: darkblue;"></div>
                    <div class="profile-stats">
                        <div class="stat"><span class="number">5</span><span class="label">ê²Œì‹œë¬¼</span></div>
                        <div class="stat"><span class="number">182</span><span class="label">íŒ”ë¡œì›Œ</span></div>
                        <div class="stat"><span class="number">170</span><span class="label">íŒ”ë¡œì‰</span></div>
                    </div>
                </div>
                <div class="profile-info">
                    <div class="name">ë‹ˆì½œ í•˜íŠ¸</div>
                    <div class="bio">Math Club | Future Harvard '28
E=mcÂ²</div>
                </div>
                <div class="profile-actions">
                    <div class="profile-btn">í”„ë¡œí•„ í¸ì§‘</div>
                </div>
            </div>
            <div class="content-grid">
                <div class="grid-item"><div class="image-placeholder" style="background-color: #FFD700;">[ì—ê·¸íƒ€ë¥´íŠ¸ 10ê°œê°€ ë‹´ê¸´ ìƒì]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #4a4a4a;">[ìˆ˜í•™ ë¬¸ì œì§‘ì´ í¼ì³ì§„ ì±…ìƒ]</div></div>
                <div class="grid-item"><div class="image-placeholder" style="background-color: #2c3e50;">[ë°¤ ìˆ˜ì˜ì¥ì— ë¹„ì¹œ ë‹¬ë¹›]</div></div>
                <!-- Add more grid items for other posts -->
            </div>
             <nav class="nav-bar">
                <svg class="nav-icon" id="home-btn-profile" aria-label="í™ˆ" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997A2.997 2.997 0 0 1 15 16.545V22h5V11.543l-8-6.923L2 11.543V22h5z" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path></svg>
                <svg class="nav-icon" id="search-btn-profile" aria-label="ê²€ìƒ‰" fill="var(--icon-fill)" height="24" role="img" viewBox="0 0 24 24" width="24"><path d="M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x1="16.511" x2="22" y1="16.511" y2="22"></line></svg>
                <div class="profile-pic nav-icon active" id="profile-btn-profile" style="background-color: darkblue;"></div>
            </nav>
        </div>

        <!-- Story Viewer -->
        <div id="story-viewer">
            <div class="story-content">
                <div class="story-progress-bars"></div>
                <div class="story-header">
                    <div class="profile-pic"></div>
                    <div class="username"></div>
                    <div class="timestamp"></div>
                    <div class="close-story">Ã—</div>
                </div>
                <div class="story-image-placeholder">
                    <!-- Story content will be injected here by JS -->
                </div>
                <div class="story-nav prev"></div>
                <div class="story-nav next"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA ---
            const storiesData = {
                'nicole.h__': [
                    { type: 'image', color: '#6495ED', desc: '[ê°€ì§€ëŸ°íˆ ì •ë¦¬ëœ ì±…ìƒ ìœ„, ì»¤í”¼ í•œ ì”ê³¼ ìˆ˜í•™ ë¬¸ì œì§‘ì´ ë†“ì—¬ìˆë‹¤.]', duration: 5000, stickers: [{ type: 'qa', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', question: 'í•˜ë²„ë“œ ê°€ëŠ” ë²• ë§ê³  ë‹¤ë¥¸ ê±° ì§ˆë¬¸ë°›ìŒ.' }] },
                    { type: 'image', color: '#FFD700', desc: '[ì†ì— ë“¤ê³  ìˆëŠ” ì—ê·¸íƒ€ë¥´íŠ¸. í•œ ì… ë² ì–´ ë¬¸ ìêµ­ì´ ë³´ì¸ë‹¤.]', duration: 5000, stickers: [] },
                ],
                'andy.black': [
                    { type: 'image', color: '#1E90FF', desc: '[ì‡¼í•‘ëª°ì˜ ë°˜ì§ì´ëŠ” ë°”ë‹¥ì„ ê±·ëŠ” ìì‹ ì˜ ì‹ ë°œì„ ì°ì€ ë¶€ë©”ë‘ ì˜ìƒ]', duration: 5000, stickers: [] },
                    { type: 'image', color: '#000080', desc: '[ë„¤ì´ë¹„ ìƒ‰ í„±ì‹œë„ ì›ë‹¨ì„ í´ë¡œì¦ˆì—…í•œ ì‚¬ì§„. ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ì§ˆê°ì´ ëŠê»´ì§„ë‹¤.]', duration: 5000, stickers: [] },
                ],
                'andy.black_close': [
                    { type: 'image', color: '#B0C4DE', desc: '[ì‡¼í•‘ëª°ì—ì„œ ì•ì„œ ê±¸ì–´ê°€ëŠ” ë‹ˆì½œì˜ ë’·ëª¨ìŠµ. ì•ˆê²½ì„ ì“´ ì˜†ëª¨ìŠµì´ ì‚´ì§ ë³´ì¸ë‹¤.]', duration: 5000, stickers: [] },
                ],
                'raymond.mccarter_qb': [
                    { type: 'video', color: '#FFA500', desc: '[íŒŒí‹° ì¡°ëª…ì„ ì„¤ì¹˜í•˜ë©° ì¦ê²ê²Œ ì›ƒê³  ìˆëŠ” ë ˆì´ë¨¼ì˜ ì…€í”„ ì˜ìƒ]', duration: 5000, stickers: [] },
                    { type: 'image', color: '#2c3e50', desc: '[ì–´ë‘ì›Œì§„ ë§ˆë‹¹, íŒŒí‹° ì¡°ëª…ì´ ëª¨ë‘ ì¼œì ¸ ì•„ë¦„ë‹¤ìš´ ë¶„ìœ„ê¸°ë¥¼ ìì•„ë‚¸ë‹¤.]', duration: 5000, stickers: [{ type: 'poll', top: '60%', left: '50%', transform: 'translate(-50%, -50%)', title: 'ì˜¤ëŠ˜ ë°¤ íŒŒí‹° ê¸°ëŒ€ë¼?', options: ['ğŸ”¥ HELL YEAH', 'ğŸ’¯ ë‹¹ì—°í•˜ì§€'] }] },
                ],
                'justin.m_math': [
                    { type: 'image', color: '#2F4F4F', desc: '[ìˆ˜í•™ í´ëŸ½ ë™ì•„ë¦¬ë°© ì¹ íŒ ê°€ë“ ì íŒ ë³µì¡í•œ ì¦ëª… ê³¼ì •. ì§‘ì¤‘í•œ í”ì ì´ ì—¿ë³´ì¸ë‹¤.]', duration: 5000, stickers: [] },
                ]
            };
            
            const dmData = {
                'andy.black': {
                    username: 'andy.black',
                    picColor: '#333',
                    messages: [
                        { type: 'date', content: '2024ë…„ 4ì›” 17ì¼' },
                        { type: 'sent', content: 'ì˜¤ëŠ˜ ì—ê·¸íƒ€ë¥´íŠ¸ ê³ ë§ˆì›Œ. ë§›ìˆì—ˆì–´.' },
                        { type: 'received', content: 'ì…ì— ë§ì•˜ë‹¤ë‹ˆ ë‹¤í–‰ì´ë„¤.' },
                        { type: 'sent', content: 'í„±ì‹œë„ë„ ì˜ ì–´ìš¸ë ¸ê³ .' },
                        { type: 'received', content: '...ê·¸ë˜.' },
                        { type: 'received', content: 'ì§‘ì—” ì˜ ë“¤ì–´ê°”ì–´?' },
                        { type: 'sent', content: 'ì‘. ë°©ê¸ˆ ë„ì°©í–ˆì–´.' },
                        { type: 'received', content: 'ê·¸ë˜. ì´ë”° íŒŒí‹°ì—ì„œ ë´.' }
                    ]
                },
                'raymond.mccarter_qb': {
                    username: 'raymond.mccarter_qb',
                    picColor: 'gold',
                    messages: [
                        { type: 'date', content: '2024ë…„ 4ì›” 17ì¼' },
                        { type: 'received', content: 'ë‹ˆí‚¤! ì˜¤ëŠ˜ íŒŒí‹° ê¼­ ì™€ì•¼ í•´! ì•Œì§€?' },
                        { type: 'sent', content: 'ì•Œì•˜ì–´. ê°„ë‹¤ë‹ˆê¹Œ ëª‡ ë²ˆì„ ë§í•´.' },
                        { type: 'received', content: 'ã…‹ã…‹ã…‹ã…‹ã…‹í˜¹ì‹œë‚˜ í•´ì„œ! ë„ˆí•œí…Œ í•  ì–˜ê¸° ìˆìœ¼ë‹ˆê¹Œ ê¼­ ì¼ì° ì™€!' },
                        { type: 'sent', content: 'ëŒ€ì²´ ë¬´ìŠ¨ ì–˜ê¸´ë° ê·¸ë˜.' },
                        { type: 'received', content: 'ë¹„ë°€ì´ì•¼. ì˜¤ë©´ ì•Œì•„. ğŸ˜‰' },
                        { type: 'received', content: 'ì‘! 7ì‹œ! ëŠ¦ì§€ ë§ˆ!' }
                    ]
                },
                'jessicacheer_': {
                    username: 'jessicacheer_',
                    picColor: 'hotpink',
                    messages: [
                        { type: 'date', content: '2024ë…„ 4ì›” 16ì¼' },
                        { type: 'received', content: 'ë‹ˆì½œ! í˜¹ì‹œ í”„ë¡¬ íŒŒíŠ¸ë„ˆ ì •í–ˆì–´? >_<' },
                        { type: 'sent', content: 'ë¯¸ì•ˆ, ë‚œ í”„ë¡¬ì— ì•„ë§ˆ ì•ˆ ê°ˆ ê²ƒ ê°™ì•„.' },
                        { type: 'received', content: 'ì—ì´ ì™œ~ ê°™ì´ ê°€ì! ë‚´ê°€ ì—ìŠ¤ì½”íŠ¸ í•´ì¤„ê²Œ!' },
                        { type: 'sent', content: 'ë§ˆìŒì€ ê³ ë§™ì§€ë§Œ ì •ë§ ê´œì°®ì•„. ì‹ ì²­í•´ì¤˜ì„œ ê³ ë§ˆì›Œ.' },
                        { type: 'received', content: 'ì•Œì•˜ì–´...' }
                    ]
                }
            };


            // --- DOM Elements ---
            const screens = document.querySelectorAll('.screen');
            const mainScreen = document.getElementById('main-screen');
            const dmScreen = document.getElementById('dm-screen');
            const dmChatScreen = document.getElementById('dm-chat-screen');
            const notificationScreen = document.getElementById('notification-screen');
            const searchScreen = document.getElementById('search-screen');
            const profileScreen = document.getElementById('profile-screen');
            const storyViewer = document.getElementById('story-viewer');

            // --- Screen Navigation ---
            function showScreen(screenId) {
                screens.forEach(screen => screen.style.display = 'none');
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.style.display = 'flex';
                }
            }
            
            document.getElementById('notification-btn').addEventListener('click', () => showScreen('notification-screen'));
            document.getElementById('dm-btn').addEventListener('click', () => showScreen('dm-screen'));
            document.getElementById('home-btn').addEventListener('click', () => showScreen('main-screen'));
            document.getElementById('search-btn').addEventListener('click', () => showScreen('search-screen'));
            document.getElementById('profile-btn').addEventListener('click', () => showScreen('profile-screen'));
            
            document.getElementById('home-btn-search').addEventListener('click', () => showScreen('main-screen'));
            document.getElementById('profile-btn-search').addEventListener('click', () => showScreen('profile-screen'));

            document.getElementById('home-btn-profile').addEventListener('click', () => showScreen('main-screen'));
            document.getElementById('search-btn-profile').addEventListener('click', () => showScreen('search-screen'));

            document.querySelectorAll('.back-btn').forEach(btn => {
                btn.addEventListener('click', () => showScreen(btn.dataset.target));
            });

            // --- Like Button ---
            document.querySelectorAll('.like-button').forEach(button => {
                button.addEventListener('click', () => {
                    const post = button.closest('.feed-post');
                    const likesCountEl = post.querySelector('.like-count');
                    let likes = parseInt(likesCountEl.textContent);
                    if (button.classList.contains('liked')) {
                        button.classList.remove('liked');
                        likes--;
                    } else {
                        button.classList.add('liked');
                        likes++;
                    }
                    likesCountEl.textContent = likes;
                });
            });

            // --- DM Chat Logic ---
            document.querySelectorAll('.dm-list-item').forEach(item => {
                item.addEventListener('click', () => {
                    const chatId = item.dataset.chatId;
                    const chatInfo = dmData[chatId];
                    if (!chatInfo) return;

                    dmChatScreen.innerHTML = `
                        <header class="screen-header">
                            <div class="back-btn" data-target="dm-screen">â¤</div>
                            <div class="profile-pic" style="background-color: ${chatInfo.picColor};"></div>
                            <div class="username">${chatInfo.username}</div>
                        </header>
                        <main class="chat-content">
                            ${chatInfo.messages.map(msg => {
                                if (msg.type === 'date') {
                                    return `<div class="chat-date">${msg.content}</div>`;
                                }
                                return `<div class="chat-bubble ${msg.type}">${msg.content}</div>`;
                            }).join('')}
                        </main>
                        <footer class="chat-input-area">
                            <input type="text" class="chat-input" placeholder="ë©”ì‹œì§€ ì…ë ¥...">
                        </footer>
                    `;
                    
                    // Add back button functionality for the newly created button
                    dmChatScreen.querySelector('.back-btn').addEventListener('click', (e) => {
                        showScreen(e.target.dataset.target);
                    });

                    showScreen('dm-chat-screen');
                    const chatContent = dmChatScreen.querySelector('.chat-content');
                    chatContent.scrollTop = chatContent.scrollHeight;
                });
            });
            
            // --- Theme Toggle ---
            const themeToggleBtn = document.querySelector('.theme-toggle-btn');
            themeToggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                if(document.body.classList.contains('dark-mode')) {
                    themeToggleBtn.textContent = 'â˜€ï¸';
                } else {
                    themeToggleBtn.textContent = 'ğŸŒ•';
                }
            });

            // --- Story Viewer Logic ---
            let currentStoryUser, currentUserStoryIndex, storyTimeout;
            const storyUsersQueue = [];
            
            const storyProgressBarContainer = storyViewer.querySelector('.story-progress-bars');
            const storyHeaderPic = storyViewer.querySelector('.story-header .profile-pic');
            const storyHeaderUsername = storyViewer.querySelector('.story-header .username');
            const storyHeaderTimestamp = storyViewer.querySelector('.story-header .timestamp');
            const storyImagePlaceholder = storyViewer.querySelector('.story-image-placeholder');
            
            function playStory() {
                clearTimeout(storyTimeout);
                
                const userStories = storiesData[currentStoryUser];
                if (!userStories || currentUserStoryIndex >= userStories.length) {
                    playNextUserStory();
                    return;
                }
                
                const story = userStories[currentUserStoryIndex];

                // Update progress bars
                const progressBars = storyProgressBarContainer.querySelectorAll('.progress-bar-fill');
                progressBars.forEach((bar, index) => {
                    bar.style.transition = 'none';
                    bar.style.width = (index < currentUserStoryIndex) ? '100%' : '0%';
                });

                setTimeout(() => {
                    progressBars[currentUserStoryIndex].style.transition = `width ${story.duration / 1000}s linear`;
                    progressBars[currentUserStoryIndex].style.width = '100%';
                }, 10);

                // Update content
                storyImagePlaceholder.style.backgroundColor = story.color;
                storyImagePlaceholder.innerHTML = `<p>${story.desc}</p>`;
                
                // Add stickers
                story.stickers.forEach(s => {
                    const stickerEl = document.createElement('div');
                    stickerEl.className = `story-sticker ${s.type}`;
                    stickerEl.style.top = s.top;
                    stickerEl.style.left = s.left;
                    stickerEl.style.transform = s.transform;

                    if (s.type === 'poll') {
                        stickerEl.innerHTML = `
                            <div class="sticker-title">${s.title}</div>
                            ${s.options.map(opt => `<div class="poll-option">${opt}</div>`).join('')}
                        `;
                    } else if (s.type === 'qa') {
                        stickerEl.innerHTML = `
                            <div class="qa-question">${s.question}</div>
                            <input type="text" class="qa-input" placeholder="ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”...">
                        `;
                    }
                    storyImagePlaceholder.appendChild(stickerEl);
                });


                storyHeaderTimestamp.textContent = `${Math.floor(Math.random() * 59 + 1)}m ago`;

                storyTimeout = setTimeout(() => {
                    currentUserStoryIndex++;
                    playStory();
                }, story.duration);
            }

            function playNextUserStory() {
                const currentUserNode = document.querySelector(`.story[data-user="${storyUsersQueue[0]}"], .story[data-user="${storyUsersQueue[0]}_close"]`);
                 if(currentUserNode) {
                    currentUserNode.classList.add('seen');
                 }

                storyUsersQueue.shift();
                if (storyUsersQueue.length === 0) {
                    closeStoryViewer();
                    return;
                }
                startUserStories(storyUsersQueue[0]);
            }

            function playPrevStory() {
                if (currentUserStoryIndex > 0) {
                    currentUserStoryIndex--;
                    playStory();
                }
                // Could add logic to go to previous user
            }

            function startUserStories(user) {
                const userStories = storiesData[user] || storiesData[user.replace('_close', '')];
                currentStoryUser = user.replace('_close', '');
                currentUserStoryIndex = 0;
                
                storyHeaderUsername.textContent = currentStoryUser;
                const picColor = document.querySelector(`.story[data-user="${user}"] .profile-pic`).style.backgroundColor;
                storyHeaderPic.style.backgroundColor = picColor;

                storyProgressBarContainer.innerHTML = userStories.map(() => `
                    <div class="progress-bar-container"><div class="progress-bar-fill"></div></div>
                `).join('');

                playStory();
            }

            document.querySelectorAll('.story').forEach(storyEl => {
                storyEl.addEventListener('click', () => {
                    const user = storyEl.dataset.user;
                    storyUsersQueue.length = 0; // Clear queue
                    const allStories = Array.from(document.querySelectorAll('.story:not(.my-story)'));
                    let startIndex = allStories.findIndex(s => s.dataset.user === user);
                    
                    for(let i = startIndex; i < allStories.length; i++) {
                        if(!allStories[i].classList.contains('seen')) {
                           storyUsersQueue.push(allStories[i].dataset.user);
                        }
                    }

                    if (storyUsersQueue.length > 0) {
                        storyViewer.style.display = 'flex';
                        startUserStories(storyUsersQueue[0]);
                    }
                });
            });

            function closeStoryViewer() {
                clearTimeout(storyTimeout);
                storyViewer.style.display = 'none';
            }

            storyViewer.querySelector('.close-story').addEventListener('click', closeStoryViewer);
            storyViewer.querySelector('.story-nav.next').addEventListener('click', () => {
                const userStories = storiesData[currentStoryUser];
                if (currentUserStoryIndex < userStories.length - 1) {
                    currentUserStoryIndex++;
                    playStory();
                } else {
                    playNextUserStory();
                }
            });
            storyViewer.querySelector('.story-nav.prev').addEventListener('click', playPrevStory);

            // --- Carousel Logic ---
            function initializeCarousel(postElement) {
                const container = postElement.querySelector('.carousel-container');
                const items = postElement.querySelectorAll('.carousel-item');
                const indicatorsContainer = postElement.querySelector('.carousel-indicators');
                const nextBtn = postElement.querySelector('.next-btn');
                const prevBtn = postElement.querySelector('.prev-btn');
                
                if (items.length <= 1) {
                    if (indicatorsContainer) indicatorsContainer.style.display = 'none';
                    if (nextBtn) nextBtn.style.display = 'none';
                    if (prevBtn) prevBtn.style.display = 'none';
                    return;
                }

                let currentIndex = 0;

                function updateCarousel() {
                    container.style.transform = `translateX(-${currentIndex * 100}%)`;
                    const dots = indicatorsContainer.querySelectorAll('.indicator-dot');
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentIndex);
                    });
                }
                
                if (indicatorsContainer) {
                    indicatorsContainer.innerHTML = Array.from(items).map(() => `<div class="indicator-dot"></div>`).join('');
                }


                if (nextBtn) {
                    nextBtn.addEventListener('click', () => {
                        currentIndex = (currentIndex + 1) % items.length;
                        updateCarousel();
                    });
                }

                if (prevBtn) {
                    prevBtn.addEventListener('click', () => {
                        currentIndex = (currentIndex - 1 + items.length) % items.length;
                        updateCarousel();
                    });
                }

                updateCarousel();
            }

            document.querySelectorAll('.feed-post').forEach(post => {
                // This is a simplified version; a full implementation would add the nav/indicator elements dynamically.
                // For this project, we assume they are in the HTML if needed.
                initializeCarousel(post);
            });

            // Initial call to set up the app state
            showScreen('main-screen');
        });
    </script>
</body>
</html>