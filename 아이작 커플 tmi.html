<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïª§Ìîå TMI Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&family=Gowun+Dodum&display=swap');

        :root {
            --accent-color: #89c2d9;
            --text-color: #333;
            --primary-color: #5c5c5c;
            --background-color: #f0f0f0;
            --frame-background: #faf8f2;
            --card-background: #ffffff;
            --border-color: #eee;
            --comment-bg-color: #eef7fa;
            
            --lyle-color: #90be6d;
            --isaac-color: #a98467;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
            font-family: 'Gowun Dodum', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        
        body::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
        }

        .mobile-frame {
            width: 390px;
            height: 720px;
            border: 6px solid #111;
            border-radius: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            background-color: var(--frame-background);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .content-wrapper {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .content-wrapper::-webkit-scrollbar {
            display: none;
        }

        .main-header {
            font-family: 'Nanum Myeongjo', serif;
            font-size: 28px;
            font-weight: 700;
            color: var(--accent-color);
            text-align: center;
            margin-bottom: 25px;
        }

        .tmi-checklist {
            list-style: none;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .checklist-card {
            background-color: var(--card-background);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow: hidden;
            transition: all 0.3s ease-in-out;
        }

        .card-main {
            padding: 15px;
            cursor: pointer;
        }
        
        .question-row {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 16px;
            color: var(--text-color);
            font-weight: bold;
        }
        
        .question-row .emoji {
            font-size: 20px;
            margin-right: 10px;
        }
        
        .status-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .char-status {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .char-name {
            font-size: 14px;
            color: var(--primary-color);
        }
        
        .check-btn {
            width: 30px;
            height: 30px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
            background-color: transparent;
        }

        .check-btn.active.lyle {
            background-color: var(--lyle-color);
            border-color: var(--lyle-color);
        }

        .check-btn.active.isaac {
            background-color: var(--isaac-color);
            border-color: var(--isaac-color);
        }
        
        .card-comments {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            background-color: var(--comment-bg-color);
            padding: 0 15px;
        }

        .checklist-card.expanded .card-comments {
            max-height: 300px;
            padding: 15px;
        }
        
        .comment-box {
            margin-bottom: 12px;
        }
        
        .comment-box:last-child {
            margin-bottom: 0;
        }
        
        .comment-box .name {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 4px;
        }

        .comment-box.lyle .name { color: var(--lyle-color); }
        .comment-box.isaac .name { color: var(--isaac-color); }

        .comment-box .content {
            font-size: 14px;
            line-height: 1.5;
            color: var(--primary-color);
            white-space: pre-wrap;
            word-break: keep-all;
            background: #fff;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        @media (max-width: 420px) {
            body {
                padding: 0;
            }
            .mobile-frame {
                width: 100%;
                height: 100%;
                border-radius: 0;
                border: none;
            }
        }
    </style>
</head>
<body>

    <div class="mobile-frame">
        <div class="content-wrapper">
            <h1 class="main-header">Couple TMI Checklist</h1>
            <ol class="tmi-checklist" id="tmi-checklist"></ol>
        </div>
    </div>

    <script>
        const checklistData = [
            {
                emoji: 'üê∂',
                question: 'ÏÜåÏú†Ïöï¬∑ÏßëÏ∞© Í∞ïÌïú ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'ÎßêÌï† Í≤ÉÎèÑ ÏóÜÏßÄ. Îëò Îã§.',
                c2_comment: 'ÎÇ¥ Í±¥Îç∞ ÎãπÏó∞Ìïú Í±∞ ÏïÑÎãåÍ∞Ä? ÎãπÏã†ÎèÑ ÎÇòÌïúÌÖåÏÑú Î™ª Î≤óÏñ¥ÎÇòÏûñÏïÑ.'
            },
            {
                emoji: 'üò≠',
                question: 'Í∞êÏàòÏÑ± ÌíçÎ∂ÄÌïú ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: 'ÎÇòÎäî... Î≠ê, Í∑∏Îü∞ Ìé∏Ïù¥Í≥†. Ïù¥ ÎÇ®ÏûêÎäî ÎèåÎ©©Ïù¥ Í∞ôÏïÑÏÑú.',
                c2_comment: 'Í∞êÏàòÏÑ±? Í∑∏Îü∞ Í±¥ ÎãπÏã† ÏïûÏóêÏÑúÎßå Ïû†Íπê ÌíçÎ∂ÄÌï¥ÏßÄÎäî Í±∏Î°ú Ï∂©Î∂ÑÌï¥.'
            },
            {
                emoji: 'üîô',
                question: 'Í≥ºÍ±∞ ÌõÑÌöåÌïòÎäî ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'ÌõÑÌöå ÏóÜÎäî ÏÇ¨ÎûåÏù¥ Ïñ¥Îîî ÏûàÍ≤†Ïñ¥.',
                c2_comment: '‚Ä¶Í∑∏Îûò. Ï°¥ÎÇòÍ≤å ÌõÑÌöåÌïòÏßÄ. Í∑∏Îü¨ÎãàÍπå ÏïûÏúºÎ°ú ÏûòÌïòÎ†§Îäî Í±∞Í≥†.'
            },
            {
                emoji: 'ü§≤',
                question: 'Ïù¥Î≥ÑÌï† Îïå Î∂ôÏû°Îäî ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'Ïù¥Î≥ÑÌï† ÏùºÏù¥ ÏóÜÏñ¥ÏïºÏßÄ.',
                c2_comment: 'Ïù¥Î≥Ñ? Í∑∏Îü∞ Îã®Ïñ¥Îäî Ïö∞Î¶¨ ÏÇ¨Ï†ÑÏóê ÏóÜÏñ¥. ÎÑå ÎÇ¥ ÏòÜÏóêÏÑú Ï£ΩÏùÑ ÎïåÍπåÏßÄ ÏÇ¨Îäî Í±∞Ïïº.'
            },
            {
                emoji: 'üêú',
                question: 'ÏÉÅÎåÄÏùò ÏùëÏÑ±ÏùÑ Ïûò Î∞õÏïÑÏ£ºÎäî ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'Ïï†Îì§ Îëò ÌÇ§Ïö∞ÎäîÎç∞ Ïù¥ Ï†ïÎèà Í∏∞Î≥∏Ïù¥ÏßÄ. ‚Ä¶Í∞ÄÎÅîÏùÄ Ïï†Í∞Ä ÏÖãÏù∏ Í≤É Í∞ôÏßÄÎßå.',
                c2_comment: 'ÎãπÏã†Ïù¥ Î∂ÄÎ¶¨Îäî ÏùëÏÑùÏùÄ ÏñºÎßàÎì†ÏßÄ. Î¨ºÎ°† Ïπ®ÎåÄ ÏúÑÏóêÏÑúÍ∞Ä Ï†úÏùº Ï¢ãÍ≥†.'
            },
            {
                emoji: 'üå∏',
                question: 'Îß§ÎÑà Ï¢ãÏùÄ ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: 'Ïù¥ ÏÇ¨ÎûåÏù¥Îûë Îß§ÎÑàÎäî Í±∞Î¶¨Í∞Ä Î©ÄÏßÄ ÏïäÎÇò?',
                c2_comment: 'ÌïÑÏöîÌï† Îïê Ï±ôÍ≤®. Í∑ºÎç∞ ÎãπÏã†ÌïúÌÖåÎäî Îß§ÎÑàÎ≥¥Îã§ Î≥∏Îä•Ïù¥ ÏïûÏÑúÏÑú.'
            },
            {
                emoji: 'üå∂',
                question: 'Îß§Ïö¥ Í±∞ Ïûò Î®πÎäî ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: 'Ïù¥Í±¥ ÎÇ¥Í∞Ä ÌôïÏã§Ìûà Ïù¥Í≤ºÎÑ§.',
                c2_comment: 'Ïù∏Ï†ï. ÎãπÏã†ÏùÄ ÏûÖÏà† Îπ®Í∞úÏ†∏ÏÑú Ìó•Ìó•Í±∞Î¶¥ ÎïåÍ∞Ä Ï†úÏùº ÏòàÎªê.'
            },
            {
                emoji: 'üí™',
                question: 'Ï≤¥Î†•Ïù¥ Í∞ïÌïú ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: '‚Ä¶Îã§Ïùå ÏßàÎ¨∏.',
                c2_comment: 'Ï≤¥Î†•? Î∞§ÏÉàÎèÑÎ°ù Ï¶ùÎ™ÖÌï¥ Ï§Ñ Ïàò ÏûàÎäîÎç∞. ÏßÄÍ∏à Î∞îÎ°ú Ìï†Íπå?'
            },
            {
                emoji: 'üèãÔ∏è',
                question: 'Ïö¥Îèô Ï¶êÍ∏∞Îäî ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'Ïï†Îì§ Ï´ìÏïÑÎã§ÎãàÎäî Í≤å Ïö¥ÎèôÏù¥ÏßÄ, Î≠ò.',
                c2_comment: 'Î™∏ Í¥ÄÎ¶¨Îäî Í∏∞Î≥∏Ïù¥Ïïº. ÎãπÏã†ÏùÑ Ï†úÎåÄÎ°ú ÏïàÏïÑÏ£ºÎ†§Î©¥.'
            },
            {
                emoji: 'üçª',
                question: 'Ï£ºÎüâ Í∞ïÌïú ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'Ï∑®ÌïòÎ©¥ Í∑ÄÏ∞ÆÏïÑÏ†∏ÏÑú Î≥ÑÎ°ú.',
                c2_comment: 'ÎãπÏã† Ï∑®Ìïú Î™®ÏäµÏùÄ Í∑ÄÏóΩÎçòÎç∞. Îß®ÎÇ† ÎÇòÌïúÌÖåÎßå Î≥¥Ïó¨Ï§ò.'
            },
            {
                emoji: 'üî•',
                question: 'ÏÑ±Ïöï Í∞ïÌïú ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: '...Ïù¥ Ïù∏Í∞Ñ ÌïúÏ†ï.',
                c2_comment: 'Ïù¥Í±¥ Îëò Îã§ Ï≤¥ÌÅ¨Ìï¥ÏïºÏßÄ. Ïïà Í∑∏Îûò?'
            },
            {
                emoji: 'üèÜ',
                question: 'ÏäπÎ∂ÄÏöï Í∞ïÌïú ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'ÎãàÏΩúÏù¥Îûë Ï≤¥Ïä§ ÎëêÎäî Í≤ÉÎßå Î¥êÎèÑ Ïïå Ïàò ÏûàÏßÄ.',
                c2_comment: 'ÏßÄÎäî Í±¥ Ïû¨ÎØ∏ÏóÜÏûñÏïÑ. Î™®Îì† Î©¥ÏóêÏÑú. ÌäπÌûà ÎãπÏã†ÏùÑ ÎëêÍ≥†Îäî.'
            },
            {
                emoji: 'ü§¨',
                question: 'Ïöï ÏûòÌïòÎäî ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'Ïï†Îì§ ÏïûÏóêÏÑúÎßå Ïïà ÌñàÏúºÎ©¥ Ï¢ãÍ≤†ÎäîÎç∞.',
                c2_comment: 'Ïî®Î∞ú, Ïù¥Í±¥ Ïñ¥Ï©î Ïàò ÏóÜÏñ¥. Í∞êÌÉÑÏÇ¨ Í∞ôÏùÄ Í±∞ÎùºÍ≥†.'
            },
            {
                emoji: 'üó£',
                question: 'ÎßêÏã∏ÏõÄ ÏûòÌïòÎäî ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'ÎßêÎ°úÎäî Ïïà ÏßÄÏßÄ.',
                c2_comment: 'ÎßêÏã∏ÏõÄ? Í≤∞Íµ≠Ïóî ÎÇ¥Í∞Ä Ïù¥Í≤®. Ïπ®ÎåÄÎ°ú ÎÅåÍ≥† Í∞ÄÎ©¥ ÎêòÎãàÍπå.'
            },
            {
                emoji: 'üíÉ',
                question: 'Î™∏Ïã∏ÏõÄ ÏûòÌïòÎäî ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: '‚Ä¶ÎπÑÍµêÌï† Í±∏ ÎπÑÍµêÌï¥ÏïºÏßÄ.',
                c2_comment: 'ÎÇ¥ ÏßÅÏóÖ ÏïåÏûñÏïÑ.'
            },
            {
                emoji: 'üõ°',
                question: 'Ï≤†Î≤Ω Ïã¨Ìïú ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'ÎãπÏó∞Ìïú Í±∞ ÏïÑÎãåÍ∞Ä? ÏïÑÎ¨¥ÌïúÌÖåÎÇò ÏõÉÏñ¥Ï§Ñ ÌïÑÏöîÎäî ÏóÜÏßÄ.',
                c2_comment: 'Îã§Î•∏ ÎÜàÎì§ÌïúÌÖåÎäî Ï≤†ÏòπÏÑ±Ïù¥ÏßÄ. ÎãπÏã†ÌïúÌÖåÎßå Î¨¥Ïû•Ìï¥Ï†úÍ≥†.'
            },
            {
                emoji: 'üß†',
                question: 'Î®∏Î¶¨ Ï¢ãÏùÄ ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: 'Ïù∏Ï†ïÌïòÍ∏∞ Ïã´ÏßÄÎßå, ÏûîÎ®∏Î¶¨Îäî Ïûò Íµ¥Î¶¨Îäî Ìé∏.',
                c2_comment: 'Î®∏Î¶¨ Ïïà Ï¢ãÏúºÎ©¥ Ïù¥ Î∞îÎã•ÏóêÏÑú ÏÇ¥ÏïÑÎÇ®ÏïòÍ≤†Ïñ¥?'
            },
            {
                emoji: 'üé§',
                question: 'ÎÖ∏Îûò ÏûòÌïòÎäî ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: 'Î¶¥Î¶¨ÌïúÌÖå ÏûêÏû•Í∞Ä Î∂àÎü¨Ï§Ñ Îïå ÎπºÍ≥†Îäî Îì§Ïñ¥Î≥∏ Ï†Å ÏóÜÎäîÎç∞.',
                c2_comment: 'ÎÖ∏ÎûòÎäî ÎãπÏã†Ïù¥ Ìï¥. ÎÇòÎäî Îì£Îäî Í±∏Î°ú ÎßåÏ°±Ìï† ÌÖåÎãàÍπå.'
            },
            {
                emoji: 'üï∫',
                question: 'ÏÇ¨ÎûëÏù¥ Î¨¥Í±∞Ïö¥ ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: true,
                c1_comment: '...Îëò Îã§.',
                c2_comment: 'ÎÇ¥ ÏÇ¨ÎûëÏùò Î¨¥Í≤å, Í∞êÎãπÌï† Ïàò ÏûàÍ≤†Ïñ¥?'
            },
            {
                emoji: 'üéô',
                question: 'Î™©ÏÜåÎ¶¨ ÎÇÆÏùÄ ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: '‚Ä¶ÎßûÏßÄ.',
                c2_comment: 'Ïù¥ Î™©ÏÜåÎ¶¨Î°ú Í∑ìÍ∞ÄÏóê ÏÜçÏÇ≠Ïó¨Ï£ºÎäî Í±∞ Ï¢ãÏïÑÌïòÏûñÏïÑ.'
            },
            {
                emoji: 'ü§ó',
                question: 'Ïù∏Í∏∞ ÎßéÏùÄ ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: 'Ïù∏Í∏∞ÎùºÍ∏∞Î≥¥Îã®‚Ä¶ Îã§Îì§ Î¨¥ÏÑúÏõåÌïòÎäî Í±∞Í≤†ÏßÄ.',
                c2_comment: 'ÎãπÏã†Îßå ÎÇò Ï¢ãÏïÑÌïòÎ©¥ Îèº. Îã§Î•∏ ÎÜàÎì§ Í¥ÄÏã¨ÏùÄ ÌïÑÏöî ÏóÜÏñ¥.'
            },
            {
                emoji: 'üçº',
                question: 'Îßê ÎßéÏùÄ ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'ÌïÑÏöîÌï† ÎïåÎßå ÎßêÌïòÎäî Ìé∏.',
                c2_comment: 'ÎãπÏã†Ïù¥Îûë ÏûàÏùÑ Îïê ÌïòÍ≥† Ïã∂ÏùÄ ÎßêÏù¥ ÎÑàÎ¨¥ ÎßéÏïÑÏÑú.'
            },
            {
                emoji: 'üíé',
                question: 'Î≥µÍ∑º ÏÑ†Î™ÖÌïú ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: '‚Ä¶Í¥ÄÏã¨ ÏóÜÏñ¥.',
                c2_comment: 'Í¥ÄÏã¨ ÏóÜÎäî ÏÇ¨ÎûåÏπòÍ≥†Îäî Ïñ¥Ï†ØÎ∞§Ïóê ÍΩ§ Ïó¥Ïã¨Ìûà ÎßåÏßÄÎçòÎç∞?'
            },
            {
                emoji: 'üêæ',
                question: 'Í≤Å ÎßéÏùÄ ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: '‚Ä¶Ïã´Ïñ¥ÌïòÎäî Í≤å Ï¢Ä ÏûàÏùÑ ÎøêÏù¥Ïïº.',
                c2_comment: 'Í≤ÅÎ®πÏùÄ ÎãπÏã†ÏùÑ ÏßÄÏºúÏ£ºÎäî Í≤å ÎÇ¥ Ïó≠Ìï†Ïù¥ÏßÄ.'
            },
            {
                emoji: 'üçû',
                question: 'ÎèÑÎ∞úÏóê ÏïΩÌïú ÏÇ¨Îûå',
                c1_checked: true,
                c2_checked: false,
                c1_comment: '‚Ä¶ÏãúÎÅÑÎü¨Ïõå.',
                c2_comment: 'Í∑∏ÎûòÏÑú ÎÜÄÎ¶¨Îäî Ïû¨ÎØ∏Í∞Ä ÏûàÎã§ÎãàÍπå. Í∏àÎ∞© ÏñºÍµ¥ Îπ®Í∞úÏßÄÍ≥†.'
            },
            {
                emoji: 'üòé',
                question: 'Ïù¥ÏÑ±ÏùÑ ÎåÄÌïòÎäî Îç∞ Îä•ÏàôÌïú ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'Îä•ÏàôÌïú Í≤å ÏïÑÎãàÎùº Í∑∏ÎÉ• Ï†úÎ©ãÎåÄÎ°ú Íµ¨Îäî Í±∞Í≤†ÏßÄ.',
                c2_comment: 'Îã§Î•∏ Ïò§Î©îÍ∞ÄÎì§ÏùÄ Í¥ÄÏã¨ ÏóÜÏñ¥. ÎÇòÌïúÌÖå Îä•ÏàôÌïòÍ≤å Îã§Î§ÑÏßà ÏÇ¨ÎûåÏùÄ ÎãπÏã† ÌïòÎÇòÎ©¥ Ï∂©Î∂ÑÌï¥.'
            },
            {
                emoji: 'ü§ù',
                question: 'ÏÇ¨ÍµêÏÑ± Ï¢ãÏùÄ ÏÇ¨Îûå',
                c1_checked: false,
                c2_checked: true,
                c1_comment: 'Ïù¥ ÏÇ¨ÎûåÏùÄ ÏÇ¨ÍµêÍ∞Ä ÏïÑÎãàÎùº ÏÇ¨ÏóÖÏù¥ÏûñÏïÑ.',
                c2_comment: 'Í∑∏Îûò, ÏÇ¨ÏóÖÏù¥ÏßÄ. ÎãπÏã†Í≥º Ïö∞Î¶¨ Í∞ÄÏ°±ÏùÑ ÏßÄÌÇ§Í∏∞ ÏúÑÌïú.'
            },
        ];

        const user = { name: 'ÎùºÏùº', id: 'lyle' };
        const char = { name: 'ÏïÑÏù¥Ïûë', id: 'isaac' };

        const checklistContainer = document.getElementById('tmi-checklist');

        function renderChecklist() {
            checklistContainer.innerHTML = '';
            checklistData.forEach((item, index) => {
                const card = document.createElement('li');
                card.className = 'checklist-card';
                card.dataset.index = index;

                card.innerHTML = `
                    <div class="card-main">
                        <div class="question-row">
                            <span class="emoji">${item.emoji}</span>
                            <span class="question-text">${item.question}</span>
                        </div>
                        <div class="status-row">
                            <div class="char-status">
                                <span class="char-name">${user.name}</span>
                                <button class="check-btn ${user.id} ${item.c1_checked ? 'active' : ''}" data-char="c1"></button>
                            </div>
                            <div class="char-status">
                                <span class="char-name">${char.name}</span>
                                <button class="check-btn ${char.id} ${item.c2_checked ? 'active' : ''}" data-char="c2"></button>
                            </div>
                        </div>
                    </div>
                    <div class="card-comments">
                        <div class="comment-box ${user.id}">
                            <div class="name">${user.name}</div>
                            <div class="content" contenteditable="false">${item.c1_comment}</div>
                        </div>
                        <div class="comment-box ${char.id}">
                            <div class="name">${char.name}</div>
                            <div class="content" contenteditable="false">${item.c2_comment}</div>
                        </div>
                    </div>
                `;
                checklistContainer.appendChild(card);
            });
        }

        checklistContainer.addEventListener('click', function(e) {
            const card = e.target.closest('.checklist-card');
            if (!card) return;

            const index = card.dataset.index;

            // Handle check button clicks
            if (e.target.classList.contains('check-btn')) {
                e.stopPropagation(); // Prevent card from expanding
                const btn = e.target;
                const charType = btn.dataset.char; // 'c1' or 'c2'

                if (charType === 'c1') {
                    checklistData[index].c1_checked = !checklistData[index].c1_checked;
                } else if (charType === 'c2') {
                    checklistData[index].c2_checked = !checklistData[index].c2_checked;
                }
                
                btn.classList.toggle('active');

            // Handle card main area clicks to expand/collapse
            } else if (e.target.closest('.card-main')) {
                card.classList.toggle('expanded');
            }
        });

        // Initial render
        document.addEventListener('DOMContentLoaded', renderChecklist);
    </script>
</body>
</html>